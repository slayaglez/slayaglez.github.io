<!doctype html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>slayaglez</title>
  <meta name="description" content="Desarrollador de Aplicaciones Multiplataforma — Sebastián Laya González" />
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=DM+Mono:wght@300;400;500&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="/assets/css/styles.css" />
</head>

<body>

  <!-- ══ NAV STICKY  ══════════════════ -->
  <nav class="nav-sticky" id="nav-sticky">
    <span class="nav-sticky-name"><em>slaya</em>glez</span>
    <a class="btn-social" href="https://www.linkedin.com/in/slayaglez/" target="_blank">LinkedIn</a>
    <a class="btn-social" href="https://github.com/slayaglez" target="_blank">GitHub</a>
    <a class="btn-social" href="mailto:slayaglez@gmail.com">Email</a>
  </nav>

  <div class="page">

    <!-- ══ HERO ═════════════════════════════════════════════════ -->
    <section class="hero" id="hero">
      <div class="hero-name">
        <div class="hero-index">01 — Desarrollador</div>
        <h1>Sebastián<br><em>Laya</em> González<span class="cursor"></span></h1>
        <p class="hero-sub">
          Estudiante de Desarrollo de Aplicaciones Multiplataforma (1º DAM)<br>
          IES Puerto de la Cruz — Buscando prácticas en backend
        </p>
      </div>

      <!-- Botones sociales en el hero -->
      <nav class="hero-social" id="social">
        <a class="btn-social" href="https://www.linkedin.com/in/slayaglez/" target="_blank">LinkedIn</a>
        <a class="btn-social" href="https://github.com/slayaglez" target="_blank">GitHub</a>
        <a class="btn-social" href="mailto:slayaglez@gmail.com">Email</a>
        <a class="btn-social icon" href="javascript:void(0);" onclick="responsiveMenu()" aria-label="Menú">&#9776;</a>
      </nav>

      <div class="hero-line"></div>
    </section>

    <!-- ══ SKILLS ════════════════════════════════════════════════ -->
    <section class="section">
      <div class="section-label reveal-left">
        <span>02 — Stack técnico</span>
      </div>

      <div class="skills-grid reveal">
        <div class="skills-photo">
          <img src="assets/img/perfil.jpg" alt="Sebastián Laya González" />
        </div>

        <div class="skills-main">
          <h2>Lo que<br>sé <em>hacer</em></h2>
          <div class="pill-grid">
            <span class="pill">Java</span>
<<<<<<< HEAD
            <span class="pill">HTML/CSS</span>
=======
            <span class="pill">SQL</span>
            <span class="pill">HTML / CSS</span>
>>>>>>> 035e178 (total rework)
            <span class="pill">JavaScript</span>
            <span class="pill">Git</span>
            <span class="pill">Assembly</span>
            <span class="pill">C / C++</span>
            <span class="pill">PostgreSQL</span>
          </div>
        </div>

        <div class="skills-side">
          <div class="skills-side-block">
            <h3>En progreso</h3>
            <ul>
              <li>App de Notas — CRUD + BBDD</li>
              <li>Gestor de tareas — POO + tests</li>
            </ul>
          </div>
          <div class="skills-side-block">
            <h3>Objetivo</h3>
            <p>Backend en Java o C++. Bases de datos con Docker, MySQL, PostgreSQL o Neo4J.</p>
          </div>
        </div>

        
      </div>
    </section>

    <!-- ══ REPOS ═════════════════════════════════════════════════ -->
    <section class="section">
      <div class="section-label reveal-left">
        <span>03 — Repositorios</span>
      </div>

      <div class="repos-header reveal">
        <h2>Trabajo<br><em>público</em></h2>
      </div>

      <div class="toolbar reveal">
        <input id="q" class="input" placeholder="buscar..." />
        <select id="sort" class="select">
          <option value="updated">Recientes</option>
          <option value="stars">Estrellas</option>
          <option value="name">A-Z</option>
        </select>
        <button class="btn-filter active" data-topic="all">todos</button>
        <button class="btn-filter" data-topic="showcase">destacados</button>
        <button class="btn-filter" data-topic="web">frontend</button>
        <button class="btn-filter" data-topic="backend">backend</button>
      </div>

      <div id="repos" class="cards"></div>
    </section>

    <!-- ══ FOOTER ════════════════════════════════════════════════ -->
    <footer class="footer reveal">
      <p>Sebastián Laya González — <span>2026</span></p>
      <p>slayaglez@gmail.com</p>
      <p>Hecho con HTML, CSS &amp; JS</p>
    </footer>

  </div><!-- /.page -->

  <script>
    /* ── GitHub API ──────────────────────────────────────────── */
    const GITHUB_USERNAME = "slayaglez";
    let allRepos = [];
    let activeTopic = "all";

    function formatDate(iso) {
      return new Date(iso).toLocaleDateString("es-ES", { year: "numeric", month: "short" });
    }

    async function fetchRepos() {
      const res = await fetch(
        `https://api.github.com/users/${GITHUB_USERNAME}/repos?per_page=100&sort=updated`,
        { headers: { "Accept": "application/vnd.github+json" } }
      );
      if (!res.ok) throw new Error("No se pudo conectar con GitHub.");
      return (await res.json()).map(r => ({
        name: r.name,
        html_url: r.html_url,
        description: r.description || "",
        language: r.language || "—",
        stargazers_count: r.stargazers_count || 0,
        updated_at: r.updated_at,
        topics: r.topics || [],
        featured: (r.topics || []).includes("showcase")
      }));
    }

    function applyFilters(repos) {
      const q = (document.getElementById("q").value || "").toLowerCase();
      const sort = document.getElementById("sort").value;

      let out = repos.filter(r => {
        const matchText = r.name.toLowerCase().includes(q) || r.description.toLowerCase().includes(q);
        const isHidden = r.topics.includes("hidden");
        const matchTopic = activeTopic === "all" || r.topics.includes(activeTopic);
        return matchText && matchTopic && !isHidden;
      });

      if (sort === "updated") out.sort((a, b) => new Date(b.updated_at) - new Date(a.updated_at));
      if (sort === "stars") out.sort((a, b) => b.stargazers_count - a.stargazers_count);
      if (sort === "name") out.sort((a, b) => a.name.localeCompare(b.name));
      return out;
    }

    function renderRepos(repos) {
      const el = document.getElementById("repos");
      const list = applyFilters(repos);

      if (!list.length) {
        el.innerHTML = `<div class="empty">No hay resultados para esa búsqueda.</div>`;
        return;
      }

      el.innerHTML = "";
      list.forEach(r => {
        const topics = r.topics.length
          ? r.topics.slice(0, 5).map(t => `<span class="topic">${t}</span>`).join("")
          : `<span class="topic">sin topics</span>`;

        el.insertAdjacentHTML("beforeend", `
          <article class="card">
            <h3>${r.name}</h3>
            ${r.featured ? `<span class="pill-featured">destacado</span>` : ""}
            <p class="card-desc">${r.description || "Sin descripción."}</p>
            <div class="card-topics">${topics}</div>
            <div class="card-meta">
              <span>⭐ ${r.stargazers_count}</span>
              <span>${r.language}</span>
              <span>${formatDate(r.updated_at)}</span>
            </div>
            <a class="card-link" href="${r.html_url}" target="_blank" rel="noreferrer">Abrir</a>
          </article>`);
      });
    }

    function bindUI() {
      document.getElementById("q").addEventListener("input", () => renderRepos(allRepos));
      document.getElementById("sort").addEventListener("change", () => renderRepos(allRepos));
      document.querySelectorAll(".btn-filter").forEach(btn => {
        btn.addEventListener("click", () => {
          document.querySelectorAll(".btn-filter").forEach(b => b.classList.remove("active"));
          btn.classList.add("active");
          activeTopic = btn.dataset.topic;
          renderRepos(allRepos);
        });
      });
    }

    async function main() {
      bindUI();
      try {
        allRepos = await fetchRepos();
        renderRepos(allRepos);
      } catch (err) {
        document.getElementById("repos").innerHTML = `<div class="empty">${err.message}</div>`;
      }
    }

    main();

    /* ── Menu hamburguesa ────────────────────────────────────── */
    function responsiveMenu() {
      document.getElementById("social").classList.toggle("responsive");
    }

    document.addEventListener("click", e => {
      const nav = document.getElementById("social");
      if (nav.classList.contains("responsive") && !nav.contains(e.target)) {
        nav.classList.remove("responsive");
      }
    });

    /* ── Nav sticky — aparece al salir del hero ──────────────── */
    const stickyNav = document.getElementById("nav-sticky");
    const heroEl = document.getElementById("hero");

    const heroObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (!entry.isIntersecting) {
          stickyNav.classList.add("visible");
        } else {
          stickyNav.classList.remove("visible");
        }
      });
    }, { threshold: 0.1 });

    heroObserver.observe(heroEl);

    /* ── Scroll reveal ───────────────────────────────────────── */
    const revealObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add("visible");
          revealObserver.unobserve(entry.target);
        }
      });
    }, { threshold: 0.12 });

    document.querySelectorAll(".reveal, .reveal-left").forEach(el => revealObserver.observe(el));
  </script>
</body>

</html>